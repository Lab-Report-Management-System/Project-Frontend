(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bbeffcbc"],{"25f0":function(e,t,a){"use strict";var l=a("6eeb"),n=a("825a"),i=a("d039"),r=a("ad6d"),o="toString",s=RegExp.prototype,c=s[o],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),b=c.name!=o;(u||b)&&l(RegExp.prototype,o,(function(){var e=n(this),t=String(e.source),a=e.flags,l=String(void 0===a&&e instanceof RegExp&&!("flags"in s)?r.call(e):a);return"/"+t+"/"+l}),{unsafe:!0})},"43b2":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h3",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.title))]),a("div",{staticStyle:{margin:"0 10px",padding:"16px",background:"#eee","border-radius":"6px"}},[e._v(e._s(e.desc))]),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:21,xs:24}},[a("el-card",{staticStyle:{margin:"10px"}},[a("div",{staticStyle:{padding:"0 5px 5px 0","text-align":"right"}},[e.year.length>=5&&e.year.length<10?a("el-button",{attrs:{type:"success",icon:"el-icon-plus",circle:"",size:"small"},on:{click:e.add}}):e._e(),e.year.length>5&&e.year.length<=10?a("el-button",{attrs:{type:"danger",icon:"el-icon-minus",circle:"",size:"small"},on:{click:e.remove}}):e._e()],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{label:"序号",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.index)+" ")]}}])}),a("el-table-column",{attrs:{label:"时间（年份）",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),e._l(e.year,(function(t,l){return a("el-table-column",{key:l,attrs:{label:t,align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[a("el-input",{on:{change:e.handlerChange},model:{value:l.row[t],callback:function(a){e.$set(l.row,t,a)},expression:"scope.row[item]"}})]}}],null,!0)})}))],2),a("el-col",[a("p",[e._v("净现值NPV"),a("el-select",{staticStyle:{width:"8%","margin-left":"0.5cm"},attrs:{placeholder:"0%"},model:{value:e.NPVper,callback:function(t){e.NPVper=t},expression:"NPVper"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-input",{staticStyle:{width:"15%","margin-left":"0.5cm"},on:{change:e.handlerChange},model:{value:e.NPVvalue,callback:function(t){e.NPVvalue=t},expression:"NPVvalue"}})],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataResult,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),e._l(e.dy,(function(t,l){return a("el-table-column",{key:l,attrs:{width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return[a("el-input",{on:{change:function(a){return e.handlerChange(l.row[t])}},model:{value:l.row[t],callback:function(a){e.$set(l.row,t,a)},expression:"scope.row[item]"}})]}}],null,!0)})}))],2),a("el-col",{staticStyle:{"margin-top":"0.5cm","margin-left":"2.5cm","margin-bottom":"0.5cm"}},[a("el-button",{attrs:{type:"primary",plain:"",disabled:e.isActive},on:{click:e.onSubmit}},[e._v("提交")]),a("el-button",{attrs:{type:"warning",plain:"",disabled:e.isActive},on:{click:e.onSave}},[e._v("暂存")]),a("el-button",{attrs:{type:"info",plain:""},on:{click:e.onCancel}},[e._v("取消")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.cpIRR}},[e._v("计算IRR")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.cpNPV}},[e._v("计算NPV")])],1)],1)],1),a("el-col",{attrs:{sm:3,xs:24}},[a("div",{staticStyle:{"margin-top":"25vh","text-align":"center"}},[a("el-progress",{attrs:{type:"circle",percentage:Math.ceil(100*e.progress/(8*e.year_length))}}),a("div",{staticStyle:{"text-align":"center","margin-top":"10px"},model:{value:e.year_length,callback:function(t){e.year_length=e._n(t)},expression:"year_length"}},[e._v("完成度: "+e._s(Math.ceil(100*e.progress/(8*e.year_length)))+"%")])],1)])],1)],1)},n=[],i=(a("d3b7"),a("25f0"),{data:function(){return{title:"差值法评价互斥方案实验",desc:"软件工程经济学实验",year:["1","2","3","4","5"],dy:["1"],NPVvalue:"",NPVper:"",options:[{label:"6%",value:.06},{label:"8%",value:.08},{label:"10%",value:.1},{label:"12%",value:.12}],tableData:[{index:"1",name:"现金录入（差额）",1:"",2:"",3:"",4:"",5:""},{index:"1.1",name:"年收入（差额）",1:"",2:"",3:"",4:"",5:""},{index:"2",name:"现金流出（差额）",1:"",2:"",3:"",4:"",5:""},{index:"2.1",name:"投资差额",1:"",2:"",3:"",4:"",5:""},{index:"2.2",name:"运维成本差额",1:"",2:"",3:"",4:"",5:""},{index:"2.3",name:"人员成本差额",1:"",2:"",3:"",4:"",5:""},{index:"3",name:"净现金流量",1:-1e3,2:-200,3:-32,4:172,5:418},{index:"3.1",name:"累计净现金流量",1:"",2:"",3:"",4:"",5:""}],isActive:!1,dataResult:[{index:"",name:"IRR内部收益率",1:""},{index:"",name:"投资收益率（年）",1:""}],NPV:{name:"净现值NPV",1:""},progress:5,allNum:"",year_length:5}},watch:{progress:function(e){this.fullname=e}},methods:{add:function(){console.log(this.tableData),this.year.push(this.year.length+1+""),this.year_length++},remove:function(){this.year.pop()},onSubmit:function(){var e={stuNumber:this.$route.query.stuNumber,labID:this.$route.query.labID,labName:this.labForm.labName,labAim:this.labForm.labAim,labEquip:this.labForm.labEquip,labPrin:this.labForm.labPrin,labStep:this.labForm.labStep,labPhe:this.labForm.labPhe,labConclu:this.labForm.labConclu,isActive:!0};console.log("yes"),submitLab(e).then((function(e){console.log(e)})),this.$message("提交成功!")},onSave:function(){var e={stuNumber:this.stuNumber,labID:this.labForm.labID,labName:this.labForm.labName,labAim:this.labForm.labAim,labEquip:this.labForm.labEquip,labPrin:this.labForm.labPrin,labStep:this.labForm.labStep,labPhe:this.labForm.labPhe,labConclu:this.labForm.labConclu,isActive:!1};console.log("yes"),console.log(e),submitLab(e),this.$message("暂存成功!")},computeNPV:function(){for(var e=0,t=0;t<this.year.length;t++)console.log(this.tableData[6][t+1]/Math.pow(1+this.NPVper,t)),e+=this.tableData[6][t+1]/Math.pow(1+this.NPVper,t);return Math.round(e)},computeIRR:function(){var e=20,t=1e-7,a=.1,l=0;while(l<e){for(var n=0,i=0,r=0;r<this.year.length;r++)n+=this.tableData[6][r+1]/Math.pow(1+a,r),i+=-r*this.tableData[6][r+1]/Math.pow(1+a,r+1);var o=a-n/i;if(Math.abs(o-a)<=t)return o;a=o,l++}return a},cpIRR:function(){var e=this.computeIRR();this.dataResult[0][1]=Math.round(1e4*e)/100,this.dataResult[0][1]=this.dataResult[0][1].toString()+"%",console.log(e)},cpNPV:function(){var e=this.computeNPV();this.NPVvalue=e},onCancel:function(){this.$router.push({path:"/dashboard"})},handlerChange:function(e){""!=e&&this.progress++,""==e&&this.progress--}}}),r=i,o=(a("8e28"),a("2877")),s=Object(o["a"])(r,l,n,!1,null,"5303bf2e",null);t["default"]=s.exports},"8e28":function(e,t,a){"use strict";a("cd62")},cd62:function(e,t,a){}}]);