(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-051ee4a5"],{"2e8a":function(e,t,s){e.exports=s.p+"static/img/1-2.278774ac.png"},"3d4f":function(e,t,s){e.exports=s.p+"static/img/1-4.498b15a3.png"},5341:function(e,t,s){},"6c44":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{width:"40%",height:"15%",position:"absolute",top:"1%",left:"5%","box-shadow":"0 2px 4px rgba(0, 81, 255, 0.1), 0 0 6px rgba(0, 0, 0, .04)","background-color":"#ebffff"}},[i("el-avatar",{staticStyle:{"margin-left":"3cm","margin-top":"0.35cm"},attrs:{size:100,src:e.circleUrl,fit:"contain"}}),i("el-tag",{staticStyle:{position:"absolute",top:"25%",left:"34%"},attrs:{size:"large"}},[e._v("学号："+e._s(e.stuNumber))]),i("el-tag",{staticStyle:{position:"absolute",top:"60%",left:"34%"},attrs:{size:"large"}},[e._v("姓名："+e._s(e.stuName))])],1),i("div",{staticStyle:{"background-color":"#204162",width:"40%",height:"2px",position:"absolute",top:"18%",left:"25%"}}),i("img",{staticStyle:{"border-radius":"25px",width:"30%",height:"75%",position:"absolute",left:"30%",top:"20%"},attrs:{src:s("b13e")}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.questionVisible,expression:"questionVisible"}],staticStyle:{position:"absolute",left:"40%",top:"35%"}},[i("div",[e._v("题目"+e._s(this.pageNumber+1)+" / "+e._s(this.questions.length))]),i("div",[e._v(e._s(this.title))]),i("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[i("ul",{staticClass:"question"},[i("li",[i("el-radio",{attrs:{label:0}},[e._v("A. "+e._s(this.answerA))])],1),i("li",[i("el-radio",{attrs:{label:1}},[e._v("B. "+e._s(this.answerB))])],1),i("li",[i("el-radio",{attrs:{label:2}},[e._v("C. "+e._s(this.answerC))])],1),i("li",[i("el-radio",{attrs:{label:3}},[e._v("D."+e._s(this.answerD))])],1)])]),i("div",{staticStyle:{"margin-top":"5cm"},nativeOn:{click:function(t){return t.preventDefault(),e.submit(t)}}},[i("img",{staticStyle:{width:"85%",height:"65%"},attrs:{src:s("7220")}})])],1),i("el-progress",{directives:[{name:"show",rawName:"v-show",value:e.questionVisible,expression:"questionVisible"}],staticStyle:{position:"absolute",left:"15%",top:"35%"},attrs:{type:"circle","text-inside":!0,"show-text":!1,"stroke-width":25,percentage:e.getTime(),color:e.colors}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.timeVisible,expression:"timeVisible"}]},[e._v("总用时:"+e._s(this.answeringTotalTime.toFixed(2)))]),i("el-progress",{directives:[{name:"show",rawName:"v-show",value:e.questionVisible,expression:"questionVisible"}],staticStyle:{position:"absolute",left:"15%",top:"60%"},attrs:{type:"circle",percentage:e.getRate(),size:"large"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.resultVisible,expression:"resultVisible"}]},[i("div",[i("div",[e._v("题目总数: "+e._s(this.questions.length))]),i("div",[e._v("回答正确: "+e._s(this.correctNumber))]),i("div",[e._v("回答错误: "+e._s(this.wrongNumber))]),i("div",[e._v("正确率: ")]),i("el-progress",{attrs:{type:"circle",percentage:e.getRate()}})],1),i("el-button",{nativeOn:{click:function(t){return t.preventDefault(),e.exitAnswer(t)}}},[e._v("结束答题")])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.questionVisible,expression:"!questionVisible"}],staticStyle:{position:"absolute",left:"40%",top:"35%"}},[e._m(0),i("img",{staticStyle:{position:"absolute",width:"250px",height:"200px",left:"-24%",top:"-18%"},attrs:{src:s("a79c")}}),i("div",{staticStyle:{"margin-top":"4cm"}},[i("img",{staticStyle:{position:"relative",width:"85%",height:"65%","border-radius":"20px"},attrs:{src:s("3d4f")},on:{click:e.match}})])]),i("el-card",{staticClass:"box-card",staticStyle:{width:"15%",height:"90%",position:"absolute",left:"80%",top:"5%","background-color":"#ebffff"}},[i("el-avatar",{directives:[{name:"loading",rawName:"v-loading",value:e.loading1,expression:"loading1"}],staticStyle:{"margin-left":"1cm","margin-top":"1.35cm"},attrs:{size:150,fit:"contain"}}),i("el-avatar",{directives:[{name:"loading",rawName:"v-loading",value:e.loading2,expression:"loading2"}],staticStyle:{"margin-left":"1cm","margin-top":"1.35cm"},attrs:{size:150,fit:"contain"}}),i("el-avatar",{directives:[{name:"loading",rawName:"v-loading",value:e.loading3,expression:"loading3"}],staticStyle:{"margin-left":"1cm","margin-top":"1.35cm"},attrs:{size:150,fit:"contain"}})],1)],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticStyle:{"font-family":"楷体","font-size":"30px","margin-left":"-1cm","text-align":"center"}},[e._v("在线答题"),s("br"),e._v("快来积极参与吧！")])}],n=s("c24f"),o=s("5f87"),r=s("b775"),c=s("5c96"),l=s("adfa"),u={name:"Socket",data:function(){return{message:"",stuNumber:"",stuName:"",socket:"",circleUrl:s("2e8a"),me:null,loading:!1,loading1:!1,loading2:!1,loading3:!1,buttonVisible:!0,questionVisible:!0,resultVisible:!1,timeVisible:!0,questions:[],radio:-1,correctNumber:0,wrongNumber:0,title:"",answerA:"",answerB:"",answerC:"",answerD:"",pageNumber:0,totalTime:100,answeringTotalTime:0,colors:[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],clock:"",PRIVATE_CHAT_MESSAGE_CODE:1,GROUP_CHAT_MESSAGE_CODE:2,PING_MESSAGE_CODE:3,SYSTEM_MESSAGE_CODE:5,MATCHING_MESSAGE_CODE:6,MATCH_SUCCESS_MESSAGE_CODE:7,MATCH_REVOKE_CODE:8,LOGIN_CODE:1e3,LOGOUT_CODE:1001}},destroyed:function(){this.quitSend(),location.reload()},created:function(){this.initMe()},methods:{initMe:function(){var e=this;this.me=new Object,Object(n["b"])(Object(o["a"])()).then((function(t){e.me.username=t.data.userNickname,e.me.userId=t.data.userName,e.websocket()}))},websocket:function(){var e=this;return window.WebSocket?(this.socket=new WebSocket(r["b"]+this.me.userId),console.log("当前用户是"+this.me.username),document.getElementById("greetings").append(decodeURI(decodeURI(this.me.username))),this.socket.onmessage=function(t){var s=JSON.parse(t.data);switch(console.log(JSON.stringify(s)),s.code){case e.GROUP_CHAT_MESSAGE_CODE:document.getElementById("output").append(s.msg);break;case e.SYSTEM_MESSAGE_CODE:break;case e.PING_MESSAGE_CODE:e.sendPong();break;case e.PRIVATE_CHAT_MESSAGE_CODE:break;case e.MATCH_SUCCESS_MESSAGE_CODE:c["MessageBox"].close(),e.loading=!1,e.buttonVisible=!1,e.timeVisible=!0,e.$message({type:"success",message:"匹配成功"}),e.getQuestion();break;case e.MATCH_REVOKE_CODE:c["MessageBox"].close(),e.loading=!1,e.$message({type:"error",message:"没有找到对手捏，请稍后重新匹配~"})}},this.socket.onopen=function(){e.loginSend()},this.socket.onclose=function(){e.quitSend()},!0):(alert("您的浏览器不支持WebSocket"),!1)},sendPong:function(){var e={code:4};this.send(JSON.stringify(e))},send:function(e){window.WebSocket&&(this.socket.readyState===WebSocket.OPEN||(this.socket.readyState=WebSocket.OPEN),this.socket.send(e))},loginSend:function(){var e={};e.code=this.LOGIN_CODE,e.username=this.me.username,e.userId=this.me.userId,this.send(JSON.stringify(e))},quitSend:function(){var e={};e.code=this.LOGOUT_CODE,e.username=this.me.username,e.userId=this.me.userId,this.send(JSON.stringify(e))},sendMessage:function(){if(""!==this.message&&null!=this.message){var e={};e.code=this.GROUP_CHAT_MESSAGE_CODE,e.username=this.me.username,e.msg=this.message,e.sendUserId=this.me.userId,this.send(JSON.stringify(e))}else alert("信息不能为空~")},match:function(){var e=this;this.loading=!0,this.loading1=!0,this.loading2=!0,this.loading3=!0,c["MessageBox"].confirm("匹配中......","对战练习",{confirmButtonText:"隐藏",cancelButtonText:"取消",type:"info"}).then((function(){e.$message({type:"info",message:"正在帮您匹配，匹配框已帮您自动隐藏"})})).catch((function(){e.loading=!1,e.revokeMatch(),e.$message({type:"error",message:"已取消匹配"})}));var t={};t.code=this.MATCHING_MESSAGE_CODE,t.username=this.me.username,t.sendUserId=this.me.userId,console.log(JSON.stringify(t)),this.send(JSON.stringify(t))},revokeMatch:function(){var e={};e.code=this.MATCH_REVOKE_CODE,e.username=this.me.username,e.sendUserId=this.me.userId,console.log(JSON.stringify(e)),this.send(JSON.stringify(e))},getQuestion:function(){var e=this;Object(l["a"])().then((function(t){e.questions=t.questions,e.pageNumber=0,e.correctNumber=0,e.wrongNumber=0,e.answeringTotalTime=0,e.title=e.questions[e.pageNumber].title,e.answerA=e.questions[e.pageNumber].answerA,e.answerB=e.questions[e.pageNumber].answerB,e.answerC=e.questions[e.pageNumber].answerC,e.answerD=e.questions[e.pageNumber].answerD,e.questionVisible=!0,e.countDown()}))},test:function(){console.log("yes")},submit:function(){var e;switch(this.radio){case 0:e="A";break;case 1:e="B";break;case 2:e="C";break;case 3:e="D";break;default:e=NaN}e===this.questions[this.pageNumber]["correctAnswer"]?(this.correctNumber++,this.$message({message:"恭喜你，回答成功",type:"success"})):(this.wrongNumber++,this.$message.error("很遗憾，回答失败")),this.nextQuestion()},nextQuestion:function(){window.clearInterval(this.clock),this.radio=-1,this.totalTime=100;var e=this.questions.length,t=this.pageNumber+1;t>=e?this.finishAnswer():(this.pageNumber++,this.title=this.questions[this.pageNumber].title,this.answerA=this.questions[this.pageNumber].answerA,this.answerB=this.questions[this.pageNumber].answerB,this.answerC=this.questions[this.pageNumber].answerC,this.answerD=this.questions[this.pageNumber].answerD,this.countDown())},getRate:function(){return this.correctNumber/this.questions.length*100},finishAnswer:function(){this.questionVisible=!1,this.resultVisible=!0,window.clearInterval(this.clock)},exitAnswer:function(){this.resultVisible=!1,this.questionVisible=!1,this.timeVisible=!1,this.$message({message:"感谢参与本轮答题匹配，欢迎下次再来~",type:"success"}),this.buttonVisible=!0},countDown:function(){var e=this;this.content=this.totalTime,this.clock=window.setInterval((function(){e.totalTime--,e.answeringTotalTime+=.2,e.content=e.totalTime,e.totalTime<1&&(window.clearInterval(e.clock),e.totalTime=100,e.submit())}),200)},getTime:function(){return this.totalTime}}},d=u,m=(s("f64c"),s("2877")),h=Object(m["a"])(d,i,a,!1,null,"767f4d38",null);t["default"]=h.exports},7220:function(e,t){e.exports="data:image/png;base64,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"},a79c:function(e,t,s){e.exports=s.p+"static/img/tip.f37fb9fc.png"},adfa:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return n}));var i=s("b775");function a(){return Object(i["a"])({url:"/api/battle/questions",method:"get"})}function n(e){return Object(i["a"])({url:"/api/battle/submitQuestion",method:"post",params:e})}},b13e:function(e,t,s){e.exports=s.p+"static/img/background.3d1de6c4.jpg"},f64c:function(e,t,s){"use strict";s("5341")}}]);